#Deduce Compiler
SET(CMGR_COMP_MSVC 0 PARENT_SCOPE)
SET(CMGR_COMP_GNUCPP 0 PARENT_SCOPE)
SET(CMGR_COMP_CLANG 0 PARENT_SCOPE)
SET(CMGR_COMP_INTEL 0 PARENT_SCOPE)
IF(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	SET(PGT_IS_MSVC 1 PARENT_SCOPE)
ELSEIF(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
	SET(CMGR_COMP_GNUCPP 1 PARENT_SCOPE)
ELSE(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	MESSAGE(FATAL ERROR "Your ${CMAKE_CXX_COMPILER_ID} Compiler is not specifically handled. Using Fallback.")
ENDIF(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")

#ALL POSSIBLE CONFIGS:
#Debug32Static
#Debug32Dynamic
#Release32Static
#Release32Dynamic
#Debug64Static
#Debug64Dynamic
#Release64Static
#Release64Dynamic

#POSSIBLE ALTERNATIVE ROUTE:
#IF(${CMGR_CONFIG} MATCHES "Debug")... etc

#Deduce Build Options
SET(CMGR_DEBUG 0 PARENT_SCOPE)
SET(CMGR_STATIC 0 PARENT_SCOPE)
SET(CMGR_WIN64 0 PARENT_SCOPE)
IF(${CMGR_CONFIG} STREQUAL "Debug32Static")
	SET(CMGR_DEBUG 1 PARENT_SCOPE)
	SET(CMGR_STATIC 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Debug32Dynamic")
	SET(CMGR_DEBUG 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Release32Static")
	SET(CMGR_STATIC 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Release32Dynamic")

ELSEIF(${CMGR_CONFIG} STREQUAL "Debug64Static")
	SET(CMGR_DEBUG 1 PARENT_SCOPE)
	SET(CMGR_STATIC 1 PARENT_SCOPE)
	SET(CMGR_WIN64 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Debug64Dynamic")
	SET(CMGR_DEBUG 1 PARENT_SCOPE)
	SET(CMGR_WIN64 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Release64Static")
	SET(CMGR_STATIC 1 PARENT_SCOPE)
	SET(CMGR_WIN64 1 PARENT_SCOPE)

ELSEIF(${CMGR_CONFIG} STREQUAL "Release64Dynamic")
	SET(CMGR_WIN64 1 PARENT_SCOPE)

#NO NEW CONFIG DONT CONFUSE
ELSE(${CMGR_CONFIG} STREQUAL "Debug32Static")
	MESSAGE(FATAL_ERROR "Unsupported Configuration")
ENDIF(${CMGR_CONFIG} STREQUAL "Debug32Static")


#APPLY
    IF(CMGR_DEBUG) 
		SET(CMAKE_CXX_FLAGS_BUILD ${CMAKE_CXX_FLAGS_DEBUG} PARENT_SCOPE) 
		SET(CMAKE_EXE_LINKER_FLAGS_BUILD ${CMAKE_EXE_LINKER_FLAGS_DEBUG} PARENT_SCOPE)
	ELSE(CMGR_DEBUG)
        SET(CMAKE_CXX_FLAGS_BUILD ${CMAKE_CXX_FLAGS_RELEASE} PARENT_SCOPE)
		SET(CMAKE_EXE_LINKER_FLAGS_BUILD ${CMAKE_EXE_LINKER_FLAGS_RELEASE} PARENT_SCOPE)
	ENDIF(CMGR_DEBUG)

    IF(CMGR_STATIC AND CMGR_COMP_MSVC) 
		STRING(REGEX REPLACE "/MD" "/MT" ${CMAKE_EXE_LINKER_FLAGS_BUILD} TEMP)
        SET(CMAKE_EXE_LINKER_FLAGS_BUILD ${TEMP} PARENT_SCOPE)
	ENDIF(CMGR_STATIC AND CMGR_COMP_MSVC)

#Print Information
    MESSAGE(STATUS "CMakeConfigMgr finished for ${CMGR_CONFIG}")
    MESSAGE(STATUS "Specified Compiler arguments: " "${CMAKE_CXX_FLAGS_BUILD}")
    MESSAGE(STATUS "Specified Linker  arguments: " "${CMAKE_EXE_LINKER_FLAGS_BUILD}")
